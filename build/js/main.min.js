"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,o)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach(function(e){_defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}document.addEventListener("DOMContentLoaded",function(){function e(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function t(e,t,r){var o=2<arguments.length&&void 0!==r?r:{};(o=_objectSpread({samesite:"strict"},o)).expires&&o.expires.toUTCString&&(o.expires=o.expires.toUTCString());var n=encodeURIComponent(e)+"="+encodeURIComponent(t);for(var c in o){n+="; "+c;var a=o[c];!0!==a&&(n+="="+a)}document.cookie=n}function r(e){for(var t=0;t<e;t++)u[t].style.fill="#EABD45"}function o(){for(var e=0;e<u.length;e++)u[e].style.fill="none"}function n(){o(),r(l),p.textContent=l,y.textContent=i,d.style.display="block",t("user-rate",i),f.style.cursor="default"}var c=2,a=6,i=e("user-rate"),s=a/c,l=Math.round(s),u=document.getElementsByClassName("rating__icon"),p=document.querySelector(".rating__num"),d=document.querySelector(".rating__user"),y=document.querySelector(".rating__user-num"),f=document.querySelector(".rating__stars");e("user-rate")&&n(),p.textContent=l,r(l),_toConsumableArray(u).forEach(function(e,t){e.addEventListener("mouseover",function(){i||(o(),r(t+1))}),e.addEventListener("click",function(){i||(s=(a+=i=t+1)/(c+=1),l=Math.round(s),n(),console.log(l))})}),f.addEventListener("mouseleave",function(){i||o(),r(l)});var m=document.querySelector(".progress-bar__line"),v=document.querySelector(".progress-bar__percentage--in"),_=document.querySelector(".progress-bar__percentage--out"),b=document.querySelector(".progress-bar__btn"),g=1;b.addEventListener("click",function(){var e,t,r,o=Number(document.querySelector(".progress-bar__select").value);e=o,t=setInterval(function(){r<=g||100<=g?clearInterval(t):(g+=1,m.style.width=g+"%",v.textContent=g+"%",_.textContent=g+"%");17<=g&&(_.className+=" progress-bar__percentage--right")},10),r=g+e});var h,w=document.querySelector(".video__search"),S=document.querySelector(".video__result");document.querySelector(".video__text-input").value="",w.addEventListener("submit",function(e){if(h=document.querySelector(".video__text-input").value,e.preventDefault(),h){var t=new XMLHttpRequest,r="search="+h;t.responseType="json",t.open("POST","/video-search.php",!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.addEventListener("readystatechange",function(){if(4===t.readyState&&200===t.status){var e=t.response;S.textContent="",e.forEach(function(e){var t=document.createElement("div");t.className="video__card","yt"==e.service&&(t.innerHTML='<div class="video__frame"><iframe src="https://www.youtube.com/embed/'.concat(e.id,'" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div><div class=\'video__title\'>').concat(e.title,"</div>")),S.append(t)})}}),t.send(r)}})}),"NodeList"in window&&!NodeList.prototype.forEach&&(console.info("polyfill for IE11"),NodeList.prototype.forEach=function(e,t){t=t||window;for(var r=0;r<this.length;r++)e.call(t,this[r],r,this)}),Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector),Array.from||(Array.from=function(e){return[].slice.call(e)});